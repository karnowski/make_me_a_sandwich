# Make Me A Sandwich

A collection of recipes for creating servers suitable for Rails, Node, & Clojure apps.

## Goals

* A simple-to-run, idempotent script for Ubuntu installation and another for CentOS.
* Don't try to abstract away from Ubuntu & CentOS like Chef & Puppet do.
* No requirement of Ruby, so no Capistrano.
* Only require Bash.

## Other Goals, not sure

* Would really like a way to cd to a Rails/Lein app and run a command to generate a ./bootstrap directory based on the requested arch.  (Don't want to use Rails generators in case of a Clojure/Node app.)

## Design Principles

* each component should be isolated in its own install function
* each install function should be idempotent (safely called again and again)
* always install the development headers in each component's recipe
* this idempotency is to aid debugging and installation and is NOT to be used as a system upgrade mechanism
* but, system updates should be backported to this script

* IDEA: basically the app exists in its own little world, delegating all OS-specific installation/configuration details to a #{APP}/bootstrap directory and its scripts within it.  The directory and its scripts are generated by make\_me\_a\_sandwhich.

## Thoughts

I'm thinking I might have to use a text-generator like ERB to really make this work.  That would obviously require Ruby.  Hmmm...

### Thinking about Apache

* there are basically two approaches here, either bootstrap.sh installs a config, or
* boostrap.sh just points to a config that lives in your (presumably) Rails app;
however... the problem there is that even if you want it live in your Rails app, 
bootstrap.sh (or some mechanism of it) needs to generate it, since it's based on
the version of Ruby/Passenger you install (or not) and the certs you use/generate...
starting to think we need to NOT check the config into the app but let bootstrap.sh 
deal with it.
MORE THINKING:
Yes, I'm pretty convinced that the *.conf file is an artifact of bootstrap.sh, and should
live in the #{APP}/bootstrap directory, not in any other config directory
